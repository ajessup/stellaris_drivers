<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>Stellaris/Tiva Drivers: Driver for LPD8806 RGB LED Strips</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Stellaris/Tiva Drivers
   </div>
   <div id="projectbrief">Miscellaneous drivers for Stellaris/Tiva microcontrollers</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group__lpd8806__ledstrip__driver.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Driver for LPD8806 RGB LED Strips</div>  </div>
</div><!--header-->
<div class="contents">

<p>This is a Stellaris/Tiva driver intended to be used with RGB LED lighting strip based on the LPD8806 controller.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ga7d10ae9c15200f4a25cda82c3b3b45b8"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__lpd8806__ledstrip__driver.html#ga7d10ae9c15200f4a25cda82c3b3b45b8">LPD8806_LEDSTRIP_ALLOW_DMA</a></td></tr>
<tr class="memdesc:ga7d10ae9c15200f4a25cda82c3b3b45b8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Existence of this macro allows DMA support to be built in.  <a href="#ga7d10ae9c15200f4a25cda82c3b3b45b8">More...</a><br/></td></tr>
<tr class="separator:ga7d10ae9c15200f4a25cda82c3b3b45b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad73b39112ed578d7d5f5a609a489dfa2"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__lpd8806__ledstrip__driver.html#gad73b39112ed578d7d5f5a609a489dfa2">LPD8806_LEDSTRIP_NUM_INSTANCES</a></td></tr>
<tr class="memdesc:gad73b39112ed578d7d5f5a609a489dfa2"><td class="mdescLeft">&#160;</td><td class="mdescRight">This macro defines the number of LedStrip instances that are supported by the driver.  <a href="#gad73b39112ed578d7d5f5a609a489dfa2">More...</a><br/></td></tr>
<tr class="separator:gad73b39112ed578d7d5f5a609a489dfa2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4d893e65bd1866d3108962aeea969c8b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__lpd8806__ledstrip__driver.html#ga4d893e65bd1866d3108962aeea969c8b">LPD8806_LEDSTRIP_FRAMEBUF_SIZE</a>(numPixels)</td></tr>
<tr class="memdesc:ga4d893e65bd1866d3108962aeea969c8b"><td class="mdescLeft">&#160;</td><td class="mdescRight">This convenience macro computes the number of bytes that are required for a frame buffer given the number of pixels.  <a href="#ga4d893e65bd1866d3108962aeea969c8b">More...</a><br/></td></tr>
<tr class="separator:ga4d893e65bd1866d3108962aeea969c8b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:ga6918c0b45c319c8a5f3c45326877e6cf"><td class="memItemLeft" align="right" valign="top">typedef void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__lpd8806__ledstrip__driver.html#ga6918c0b45c319c8a5f3c45326877e6cf">LPD8806_LedStrip_Handle_t</a></td></tr>
<tr class="memdesc:ga6918c0b45c319c8a5f3c45326877e6cf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Define the instance handle to be used for all LedStrip API functions.  <a href="#ga6918c0b45c319c8a5f3c45326877e6cf">More...</a><br/></td></tr>
<tr class="separator:ga6918c0b45c319c8a5f3c45326877e6cf"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:gafec4c9a708a43cd1562d7d2716844d5f"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__lpd8806__ledstrip__driver.html#gafec4c9a708a43cd1562d7d2716844d5f">LPD8806_LedStrip_Channel_t</a> { <a class="el" href="group__lpd8806__ledstrip__driver.html#ggafec4c9a708a43cd1562d7d2716844d5fa1fcfb27bf044547abacc99185b5ee17d">CHAN_RED</a>, 
<a class="el" href="group__lpd8806__ledstrip__driver.html#ggafec4c9a708a43cd1562d7d2716844d5fa038c793c694357b3c116e5385d4582ed">CHAN_GREEN</a>, 
<a class="el" href="group__lpd8806__ledstrip__driver.html#ggafec4c9a708a43cd1562d7d2716844d5fa351320859843f1af295c3fd4367cb533">CHAN_BLUE</a>
 }</td></tr>
<tr class="memdesc:gafec4c9a708a43cd1562d7d2716844d5f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Define channel values that can be used for <a class="el" href="group__lpd8806__ledstrip__driver.html#ga13bb90d63c7b0346c4a3e2a21ec790e5" title="Set an individual color channel for a pixel. ">LPD8806_LedStrip_SetPixelChannel()</a> and <a class="el" href="group__lpd8806__ledstrip__driver.html#ga4d1b90d05e74027e8cee753a336b722d" title="Get a pixel individual color channel. ">LPD8806_LedStrip_GetPixelChannel()</a>  <a href="group__lpd8806__ledstrip__driver.html#gafec4c9a708a43cd1562d7d2716844d5f">More...</a><br/></td></tr>
<tr class="separator:gafec4c9a708a43cd1562d7d2716844d5f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga32c0535b4769b8756ae80ad307b34ead"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__lpd8806__ledstrip__driver.html#ga32c0535b4769b8756ae80ad307b34ead">LPD8806_LedStrip_SetPixelValue</a> (<a class="el" href="group__lpd8806__ledstrip__driver.html#ga6918c0b45c319c8a5f3c45326877e6cf">LPD8806_LedStrip_Handle_t</a> h, uint32_t pixelNum, uint32_t rgb)</td></tr>
<tr class="memdesc:ga32c0535b4769b8756ae80ad307b34ead"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the RGB value of a pixel directly.  <a href="#ga32c0535b4769b8756ae80ad307b34ead">More...</a><br/></td></tr>
<tr class="separator:ga32c0535b4769b8756ae80ad307b34ead"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga73b1474c9738e79c376be6a91bd4783c"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__lpd8806__ledstrip__driver.html#ga73b1474c9738e79c376be6a91bd4783c">LPD8806_LedStrip_GetPixelValue</a> (<a class="el" href="group__lpd8806__ledstrip__driver.html#ga6918c0b45c319c8a5f3c45326877e6cf">LPD8806_LedStrip_Handle_t</a> h, uint32_t pixelNum)</td></tr>
<tr class="memdesc:ga73b1474c9738e79c376be6a91bd4783c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the pixel color as a single RGB value.  <a href="#ga73b1474c9738e79c376be6a91bd4783c">More...</a><br/></td></tr>
<tr class="separator:ga73b1474c9738e79c376be6a91bd4783c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6c3333c8001723f92c35f23aaafea519"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__lpd8806__ledstrip__driver.html#ga6c3333c8001723f92c35f23aaafea519">LPD8806_LedStrip_SetPixelRgb</a> (<a class="el" href="group__lpd8806__ledstrip__driver.html#ga6918c0b45c319c8a5f3c45326877e6cf">LPD8806_LedStrip_Handle_t</a> h, uint32_t pixelNum, uint8_t r, uint8_t g, uint8_t b)</td></tr>
<tr class="memdesc:ga6c3333c8001723f92c35f23aaafea519"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the pixel color using color channels.  <a href="#ga6c3333c8001723f92c35f23aaafea519">More...</a><br/></td></tr>
<tr class="separator:ga6c3333c8001723f92c35f23aaafea519"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga009e33f9070e1942b0db7402e6854c63"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__lpd8806__ledstrip__driver.html#ga009e33f9070e1942b0db7402e6854c63">LPD8806_LedStrip_GetPixelRgb</a> (<a class="el" href="group__lpd8806__ledstrip__driver.html#ga6918c0b45c319c8a5f3c45326877e6cf">LPD8806_LedStrip_Handle_t</a> h, uint32_t pixelNum, uint8_t *pr, uint8_t *pg, uint8_t *pb)</td></tr>
<tr class="memdesc:ga009e33f9070e1942b0db7402e6854c63"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the pixel color as separate color channels.  <a href="#ga009e33f9070e1942b0db7402e6854c63">More...</a><br/></td></tr>
<tr class="separator:ga009e33f9070e1942b0db7402e6854c63"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga13bb90d63c7b0346c4a3e2a21ec790e5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__lpd8806__ledstrip__driver.html#ga13bb90d63c7b0346c4a3e2a21ec790e5">LPD8806_LedStrip_SetPixelChannel</a> (<a class="el" href="group__lpd8806__ledstrip__driver.html#ga6918c0b45c319c8a5f3c45326877e6cf">LPD8806_LedStrip_Handle_t</a> h, uint32_t pixelNum, <a class="el" href="group__lpd8806__ledstrip__driver.html#gafec4c9a708a43cd1562d7d2716844d5f">LPD8806_LedStrip_Channel_t</a> channel, uint8_t channelValue)</td></tr>
<tr class="memdesc:ga13bb90d63c7b0346c4a3e2a21ec790e5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set an individual color channel for a pixel.  <a href="#ga13bb90d63c7b0346c4a3e2a21ec790e5">More...</a><br/></td></tr>
<tr class="separator:ga13bb90d63c7b0346c4a3e2a21ec790e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4d1b90d05e74027e8cee753a336b722d"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__lpd8806__ledstrip__driver.html#ga4d1b90d05e74027e8cee753a336b722d">LPD8806_LedStrip_GetPixelChannel</a> (<a class="el" href="group__lpd8806__ledstrip__driver.html#ga6918c0b45c319c8a5f3c45326877e6cf">LPD8806_LedStrip_Handle_t</a> h, uint32_t pixelNum, <a class="el" href="group__lpd8806__ledstrip__driver.html#gafec4c9a708a43cd1562d7d2716844d5f">LPD8806_LedStrip_Channel_t</a> channel)</td></tr>
<tr class="memdesc:ga4d1b90d05e74027e8cee753a336b722d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get a pixel individual color channel.  <a href="#ga4d1b90d05e74027e8cee753a336b722d">More...</a><br/></td></tr>
<tr class="separator:ga4d1b90d05e74027e8cee753a336b722d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga96edb00eda7a42e2c3ee4489289d21f9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__lpd8806__ledstrip__driver.html#ga96edb00eda7a42e2c3ee4489289d21f9">LPD8806_LedStrip_Update</a> (<a class="el" href="group__lpd8806__ledstrip__driver.html#ga6918c0b45c319c8a5f3c45326877e6cf">LPD8806_LedStrip_Handle_t</a> h)</td></tr>
<tr class="memdesc:ga96edb00eda7a42e2c3ee4489289d21f9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Update the LED string with the buffered values.  <a href="#ga96edb00eda7a42e2c3ee4489289d21f9">More...</a><br/></td></tr>
<tr class="separator:ga96edb00eda7a42e2c3ee4489289d21f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8427508e09ccaab02eda02980ba88e7d"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__lpd8806__ledstrip__driver.html#ga8427508e09ccaab02eda02980ba88e7d">LPD8806_LedStrip_NumPixels</a> (<a class="el" href="group__lpd8806__ledstrip__driver.html#ga6918c0b45c319c8a5f3c45326877e6cf">LPD8806_LedStrip_Handle_t</a> h)</td></tr>
<tr class="memdesc:ga8427508e09ccaab02eda02980ba88e7d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the number of pixels in the instance.  <a href="#ga8427508e09ccaab02eda02980ba88e7d">More...</a><br/></td></tr>
<tr class="separator:ga8427508e09ccaab02eda02980ba88e7d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gabad153a5e74ddb95bab883552d163544"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__lpd8806__ledstrip__driver.html#ga6918c0b45c319c8a5f3c45326877e6cf">LPD8806_LedStrip_Handle_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__lpd8806__ledstrip__driver.html#gabad153a5e74ddb95bab883552d163544">LPD8806_LedStrip_Init</a> (uint32_t sysClock, uint32_t spiIdx, uint32_t spiRate)</td></tr>
<tr class="memdesc:gabad153a5e74ddb95bab883552d163544"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize the LED strip driver hardware.  <a href="#gabad153a5e74ddb95bab883552d163544">More...</a><br/></td></tr>
<tr class="separator:gabad153a5e74ddb95bab883552d163544"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0e33e4da250682bfdc0f2602bb72b835"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__lpd8806__ledstrip__driver.html#ga0e33e4da250682bfdc0f2602bb72b835">LPD8806_LedStrip_SetFrameBuffer</a> (<a class="el" href="group__lpd8806__ledstrip__driver.html#ga6918c0b45c319c8a5f3c45326877e6cf">LPD8806_LedStrip_Handle_t</a> h, void *pFrameBuffer, uint32_t numPixels)</td></tr>
<tr class="memdesc:ga0e33e4da250682bfdc0f2602bb72b835"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the frame buffer for an LedStrip instance.  <a href="#ga0e33e4da250682bfdc0f2602bb72b835">More...</a><br/></td></tr>
<tr class="separator:ga0e33e4da250682bfdc0f2602bb72b835"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3ce3fc57c7d5c7c8ded09cc587ba714f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__lpd8806__ledstrip__driver.html#ga3ce3fc57c7d5c7c8ded09cc587ba714f">LPD8806_LedStrip_Clear</a> (<a class="el" href="group__lpd8806__ledstrip__driver.html#ga6918c0b45c319c8a5f3c45326877e6cf">LPD8806_LedStrip_Handle_t</a> h)</td></tr>
<tr class="memdesc:ga3ce3fc57c7d5c7c8ded09cc587ba714f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Clear the frame buffer.  <a href="#ga3ce3fc57c7d5c7c8ded09cc587ba714f">More...</a><br/></td></tr>
<tr class="separator:ga3ce3fc57c7d5c7c8ded09cc587ba714f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaaf62fec53810f6f85f8bc82bb1f46a35"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__lpd8806__ledstrip__driver.html#gaaf62fec53810f6f85f8bc82bb1f46a35">LPD8806_LedStrip_EnableDma</a> (<a class="el" href="group__lpd8806__ledstrip__driver.html#ga6918c0b45c319c8a5f3c45326877e6cf">LPD8806_LedStrip_Handle_t</a> h, uint32_t dmaChannel)</td></tr>
<tr class="memdesc:gaaf62fec53810f6f85f8bc82bb1f46a35"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enable the use of DMA by the driver.  <a href="#gaaf62fec53810f6f85f8bc82bb1f46a35">More...</a><br/></td></tr>
<tr class="separator:gaaf62fec53810f6f85f8bc82bb1f46a35"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>This is a Stellaris/Tiva driver intended to be used with RGB LED lighting strip based on the LPD8806 controller. </p>
<p>These lighting strips can be found on adafruit and other places. They are typically 32 LEDs in a strip but can be longer and can be joined in series.</p>
<p>This has been tested using an Stellaris EK-LM3S6965, but should work with any Stellaris or Tiva part with little or no modifications.</p>
<p>The LED strip must be powered appropriately and connected to the data and clock lines of one of the Stellaris SSI/SPI ports. This driver is attached to a SPI peripheral when it is initialized.</p>
<p>This driver maintains a pixel "frame buffer". The provided functions allow to set and get the RGB value of any pixel in the buffer and to update the entire string at once.</p>
<p>Each pixel is 7-bit * 3 channels (total of 21 bits) RGB. You can manipulate the pixel values by individual color channel or as a single value.</p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000001">Todo:</a></b></dt><dd>make driver interrupt driven (presently is polled or DMA)</dd></dl>
<p>EXAMPLE: Here is code showing how you might use this driver in an example:</p>
<div class="fragment"><div class="line"><span class="comment">// Allocate a frame buffer for a 32 pixel strip</span></div>
<div class="line"><span class="preprocessor">#define NUM_PIXELS 32</span></div>
<div class="line"><span class="preprocessor"></span>uint8_t frameBuffer[<a class="code" href="group__lpd8806__ledstrip__driver.html#ga4d893e65bd1866d3108962aeea969c8b">LPD8806_LEDSTRIP_FRAMEBUF_SIZE</a>(NUM_PIXELS)];</div>
<div class="line"></div>
<div class="line"><span class="comment">// init the driver for SPI 0, and 500 kHz clock rate</span></div>
<div class="line">LPD8806_Handle_t hLed = <a class="code" href="group__lpd8806__ledstrip__driver.html#gabad153a5e74ddb95bab883552d163544">LPD8806_LedStrip_Init</a>(SysCtlClockGet(), 0, 500000);</div>
<div class="line"><span class="keywordflow">if</span>(!hLed)</div>
<div class="line">{</div>
<div class="line">    <span class="comment">// handle error</span></div>
<div class="line">    ...</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="comment">// Assign the frame buffer</span></div>
<div class="line"><a class="code" href="group__lpd8806__ledstrip__driver.html#ga0e33e4da250682bfdc0f2602bb72b835">LPD8806_LedStrip_SetFrameBuffer</a>(hLed, frameBuffer, NUM_PIXELS);</div>
<div class="line"></div>
<div class="line"><span class="comment">// Clear out the pixel data</span></div>
<div class="line"><a class="code" href="group__lpd8806__ledstrip__driver.html#ga3ce3fc57c7d5c7c8ded09cc587ba714f">LPD8806_LedStrip_Clear</a>(hLed);</div>
<div class="line"></div>
<div class="line"><span class="comment">// Update the strip so everything will be turned off</span></div>
<div class="line"><a class="code" href="group__lpd8806__ledstrip__driver.html#ga96edb00eda7a42e2c3ee4489289d21f9">LPD8806_LedStrip_Update</a>(hLed);</div>
<div class="line"></div>
<div class="line"><span class="comment">// set pixel 0 to full red, half green, quarter blue</span></div>
<div class="line"><a class="code" href="group__lpd8806__ledstrip__driver.html#ga6c3333c8001723f92c35f23aaafea519">LPD8806_LedStrip_SetPixelRgb</a>(hLed, 0, 0x7f, 0x40, 0x20);</div>
<div class="line"></div>
<div class="line"><span class="comment">// update the light string</span></div>
<div class="line"><a class="code" href="group__lpd8806__ledstrip__driver.html#ga96edb00eda7a42e2c3ee4489289d21f9">LPD8806_LedStrip_Update</a>(hLed);</div>
</div><!-- fragment --> <h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="ga7d10ae9c15200f4a25cda82c3b3b45b8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LPD8806_LEDSTRIP_ALLOW_DMA</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Existence of this macro allows DMA support to be built in. </p>
<p>This leaves use of DMA as a run-time option. If this macro is not defined or undef'd then all DMA support is compiled out and it will not be a run-time option. This value can be changed by editing the header file, or by defining or undefining the macro on the command line. This macro is defined by default. </p>

</div>
</div>
<a class="anchor" id="gad73b39112ed578d7d5f5a609a489dfa2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LPD8806_LEDSTRIP_NUM_INSTANCES</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This macro defines the number of LedStrip instances that are supported by the driver. </p>
<p>The larger the number of instances, the more memory used by the driver. The default value is 2. If you have a system with more RGB LedStrips than that, then you can increase this number. </p>

</div>
</div>
<a class="anchor" id="ga4d893e65bd1866d3108962aeea969c8b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LPD8806_LEDSTRIP_FRAMEBUF_SIZE</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">numPixels</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This convenience macro computes the number of bytes that are required for a frame buffer given the number of pixels. </p>
<p>It can be used by the application to allocate memory for the frame buffer before calling <a class="el" href="group__lpd8806__ledstrip__driver.html#ga0e33e4da250682bfdc0f2602bb72b835" title="Set the frame buffer for an LedStrip instance. ">LPD8806_LedStrip_SetFrameBuffer()</a>. The frame buffer must be one place longer than the number of pixels. </p>

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a class="anchor" id="ga6918c0b45c319c8a5f3c45326877e6cf"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void* <a class="el" href="group__lpd8806__ledstrip__driver.html#ga6918c0b45c319c8a5f3c45326877e6cf">LPD8806_LedStrip_Handle_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Define the instance handle to be used for all LedStrip API functions. </p>
<p>This value is returned from <a class="el" href="group__lpd8806__ledstrip__driver.html#gabad153a5e74ddb95bab883552d163544" title="Initialize the LED strip driver hardware. ">LPD8806_LedStrip_Init()</a> and must be passed to all other functions. </p>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a class="anchor" id="gafec4c9a708a43cd1562d7d2716844d5f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__lpd8806__ledstrip__driver.html#gafec4c9a708a43cd1562d7d2716844d5f">LPD8806_LedStrip_Channel_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Define channel values that can be used for <a class="el" href="group__lpd8806__ledstrip__driver.html#ga13bb90d63c7b0346c4a3e2a21ec790e5" title="Set an individual color channel for a pixel. ">LPD8806_LedStrip_SetPixelChannel()</a> and <a class="el" href="group__lpd8806__ledstrip__driver.html#ga4d1b90d05e74027e8cee753a336b722d" title="Get a pixel individual color channel. ">LPD8806_LedStrip_GetPixelChannel()</a> </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><em><a class="anchor" id="ggafec4c9a708a43cd1562d7d2716844d5fa1fcfb27bf044547abacc99185b5ee17d"></a>CHAN_RED</em>&#160;</td><td class="fielddoc">
<p>Red color channel. </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="ggafec4c9a708a43cd1562d7d2716844d5fa038c793c694357b3c116e5385d4582ed"></a>CHAN_GREEN</em>&#160;</td><td class="fielddoc">
<p>Green color channel. </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="ggafec4c9a708a43cd1562d7d2716844d5fa351320859843f1af295c3fd4367cb533"></a>CHAN_BLUE</em>&#160;</td><td class="fielddoc">
<p>Blue color channel. </p>
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ga32c0535b4769b8756ae80ad307b34ead"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void LPD8806_LedStrip_SetPixelValue </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__lpd8806__ledstrip__driver.html#ga6918c0b45c319c8a5f3c45326877e6cf">LPD8806_LedStrip_Handle_t</a>&#160;</td>
          <td class="paramname"><em>h</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>pixelNum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>rgb</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the RGB value of a pixel directly. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">h</td><td>is the LedStrip instance handle from _Init() </td></tr>
    <tr><td class="paramname">pixelNum</td><td>is the pixel number to modify </td></tr>
    <tr><td class="paramname">rgb</td><td>is the 24-bit RGB value ([23:16]red, [15:8]green, [7:0]blue)</td></tr>
  </table>
  </dd>
</dl>
<p>This function is used to set the color value of a pixel using a combined RGB value in a uint32_t. The RGB color channel values are 7 bits each and arranged as follows:</p>
<table class="doxtable">
<tr>
<th>Bits </th><th>Color Channel  </th></tr>
<tr>
<td>31:24 </td><td>Not used </td></tr>
<tr>
<td>23 </td><td>Reserved (set to 0) </td></tr>
<tr>
<td>22:16 </td><td>Red </td></tr>
<tr>
<td>15 </td><td>Reserved (set to 0) </td></tr>
<tr>
<td>14:8 </td><td>Green </td></tr>
<tr>
<td>7 </td><td>Reserved (set to 0) </td></tr>
<tr>
<td>6:0 </td><td>Blue </td></tr>
</table>

</div>
</div>
<a class="anchor" id="ga73b1474c9738e79c376be6a91bd4783c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t LPD8806_LedStrip_GetPixelValue </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__lpd8806__ledstrip__driver.html#ga6918c0b45c319c8a5f3c45326877e6cf">LPD8806_LedStrip_Handle_t</a>&#160;</td>
          <td class="paramname"><em>h</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>pixelNum</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the pixel color as a single RGB value. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">h</td><td>is the LedStrip instance handle from _Init() </td></tr>
    <tr><td class="paramname">pixelNum</td><td>is the pixel number to read</td></tr>
  </table>
  </dd>
</dl>
<p>The value is returned as a 24-bit RGB value with color channels arranged as: ([23:16]red, [15:8]green, [7:0]blue)</p>
<dl class="section return"><dt>Returns</dt><dd>Returns the RGB color value of the pixel. If there is any error then 0 is returned. </dd></dl>

</div>
</div>
<a class="anchor" id="ga6c3333c8001723f92c35f23aaafea519"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void LPD8806_LedStrip_SetPixelRgb </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__lpd8806__ledstrip__driver.html#ga6918c0b45c319c8a5f3c45326877e6cf">LPD8806_LedStrip_Handle_t</a>&#160;</td>
          <td class="paramname"><em>h</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>pixelNum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>r</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>g</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>b</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the pixel color using color channels. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">h</td><td>is the LedStrip instance handle from _Init() </td></tr>
    <tr><td class="paramname">pixelNum</td><td>is the pixel number to modify </td></tr>
    <tr><td class="paramname">r</td><td>is the 7-bit value of the <em>red</em> color channel </td></tr>
    <tr><td class="paramname">g</td><td>is the 7-bit value of the <em>green</em> color channel </td></tr>
    <tr><td class="paramname">b</td><td>is the 7-bit value of the <em>blue</em> color channel</td></tr>
  </table>
  </dd>
</dl>
<p>This function is used to set the color of a specific pixel by specifying the individual color channel values. Each color channel is 7 bits. </p>

</div>
</div>
<a class="anchor" id="ga009e33f9070e1942b0db7402e6854c63"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void LPD8806_LedStrip_GetPixelRgb </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__lpd8806__ledstrip__driver.html#ga6918c0b45c319c8a5f3c45326877e6cf">LPD8806_LedStrip_Handle_t</a>&#160;</td>
          <td class="paramname"><em>h</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>pixelNum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>pr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>pg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>pb</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the pixel color as separate color channels. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">h</td><td>is the LedStrip instance handle from _Init() </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">pixelNum</td><td>is the pixel number to read </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">pr</td><td>is a pointer for the returned value of the <em>red</em> color channel </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">pg</td><td>is a pointer for the returned value of the <em>green</em> color channel </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">pb</td><td>is a pointer for the returned value of the <em>blue</em> color channel</td></tr>
  </table>
  </dd>
</dl>
<p>The color channel values are returned via 3 caller supplied pointers, each as a 7-bit value. The values will all be set to 0 if there is any error. </p>

</div>
</div>
<a class="anchor" id="ga13bb90d63c7b0346c4a3e2a21ec790e5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void LPD8806_LedStrip_SetPixelChannel </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__lpd8806__ledstrip__driver.html#ga6918c0b45c319c8a5f3c45326877e6cf">LPD8806_LedStrip_Handle_t</a>&#160;</td>
          <td class="paramname"><em>h</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>pixelNum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__lpd8806__ledstrip__driver.html#gafec4c9a708a43cd1562d7d2716844d5f">LPD8806_LedStrip_Channel_t</a>&#160;</td>
          <td class="paramname"><em>channel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>channelValue</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set an individual color channel for a pixel. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">h</td><td>is the LedStrip instance handle from _Init() </td></tr>
    <tr><td class="paramname">pixelNum</td><td>is the pixel number to modify </td></tr>
    <tr><td class="paramname">channel</td><td>is the color channel to modify: CHAN_RED, CHAN_GREEN, CHAN_BLUE </td></tr>
    <tr><td class="paramname">channelValue</td><td>is the 7-bit value for the color channel</td></tr>
  </table>
  </dd>
</dl>
<p>This function can be used to set just a single color channel of a pixel. </p>

</div>
</div>
<a class="anchor" id="ga4d1b90d05e74027e8cee753a336b722d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t LPD8806_LedStrip_GetPixelChannel </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__lpd8806__ledstrip__driver.html#ga6918c0b45c319c8a5f3c45326877e6cf">LPD8806_LedStrip_Handle_t</a>&#160;</td>
          <td class="paramname"><em>h</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>pixelNum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__lpd8806__ledstrip__driver.html#gafec4c9a708a43cd1562d7d2716844d5f">LPD8806_LedStrip_Channel_t</a>&#160;</td>
          <td class="paramname"><em>channel</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get a pixel individual color channel. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">h</td><td>is the LedStrip instance handle from _Init() </td></tr>
    <tr><td class="paramname">pixelNum</td><td>is the pixel number to read </td></tr>
    <tr><td class="paramname">channel</td><td>is the color channel to read: CHAN_RED, CHAN_GREEN, CHAN_BLUE</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns the value of the specified color channel as 7-bits, or 0 if there is an error. </dd></dl>

</div>
</div>
<a class="anchor" id="ga96edb00eda7a42e2c3ee4489289d21f9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void LPD8806_LedStrip_Update </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__lpd8806__ledstrip__driver.html#ga6918c0b45c319c8a5f3c45326877e6cf">LPD8806_LedStrip_Handle_t</a>&#160;</td>
          <td class="paramname"><em>h</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Update the LED string with the buffered values. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">h</td><td>is the LedStrip instance handle from _Init()</td></tr>
  </table>
  </dd>
</dl>
<p>The pixel values that were written to the LED "frame buffer" with the above functions are copied to the physical LED string via the SSI/SPI port.</p>
<p>If DMA support is enabled, then this function will return right away while the DMA runs in the background. If DMA is not enabled, then this function uses polled IO to copy the data to the SPI port until the entire buffer has been copied to the output FIFO. </p>

</div>
</div>
<a class="anchor" id="ga8427508e09ccaab02eda02980ba88e7d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t LPD8806_LedStrip_NumPixels </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__lpd8806__ledstrip__driver.html#ga6918c0b45c319c8a5f3c45326877e6cf">LPD8806_LedStrip_Handle_t</a>&#160;</td>
          <td class="paramname"><em>h</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the number of pixels in the instance. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">h</td><td>is the LedStrip instance handle from _Init()</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns the number of pixels supported for the specified LedStrip instance. </dd></dl>

</div>
</div>
<a class="anchor" id="gabad153a5e74ddb95bab883552d163544"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__lpd8806__ledstrip__driver.html#ga6918c0b45c319c8a5f3c45326877e6cf">LPD8806_LedStrip_Handle_t</a> LPD8806_LedStrip_Init </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>sysClock</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>spiIdx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>spiRate</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize the LED strip driver hardware. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sysClock</td><td>is the value of the system clock </td></tr>
    <tr><td class="paramname">spiIdx</td><td>is the index of the SPI peripheral to use (0-origin) </td></tr>
    <tr><td class="paramname">spiRate</td><td>is the data rate to use for SPI</td></tr>
  </table>
  </dd>
</dl>
<p>The application must call this function before using any other functions in this driver. It is used to set up a hardware instance for use by the driver. The parameter <em>sysClock</em> is the value of the MCU system clock frequency. It is needed for initializing the SPI peripheral. The parameter <em>spiIdx</em> is the SPI peripheral number to use (0, 1, etc). It is limited to the number of SPI peripherals in the system. The <em>spiRate</em> is the desired clock frequency of the SPI peripheral. There is no validation of this parameter. The driver will attempt to set the specified value of the SPI clock rate but if it is not valid then the init will probably fail silently.</p>
<dl class="section note"><dt>Note</dt><dd>The application must also call <a class="el" href="group__lpd8806__ledstrip__driver.html#ga0e33e4da250682bfdc0f2602bb72b835" title="Set the frame buffer for an LedStrip instance. ">LPD8806_LedStrip_SetFrameBuffer()</a> before this driver can be used.</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>Returns a handle that is used for the other LedStrip function. The returned value will be NULL if there is any error with the initialization. </dd></dl>

</div>
</div>
<a class="anchor" id="ga0e33e4da250682bfdc0f2602bb72b835"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void LPD8806_LedStrip_SetFrameBuffer </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__lpd8806__ledstrip__driver.html#ga6918c0b45c319c8a5f3c45326877e6cf">LPD8806_LedStrip_Handle_t</a>&#160;</td>
          <td class="paramname"><em>h</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>pFrameBuffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>numPixels</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the frame buffer for an LedStrip instance. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">h</td><td>is the LedStrip instance handle from _Init() </td></tr>
    <tr><td class="paramname">pFrameBuffer</td><td>is a pointer to storage for the frame buffer </td></tr>
    <tr><td class="paramname">numPixels</td><td>is the number of pixels for the frame buffer</td></tr>
  </table>
  </dd>
</dl>
<p>This function assigns a frame buffer to the LedStrip instance. This must be called at least once following <a class="el" href="group__lpd8806__ledstrip__driver.html#gabad153a5e74ddb95bab883552d163544" title="Initialize the LED strip driver hardware. ">LPD8806_LedStrip_Init()</a>. It can be called other times if needed to change the frame buffer for an LedStrip. For example if there is a pre-rendered frame buffer it could be used to switch between computed and pre-rendered frame buffer.</p>
<p>The caller must allocate the space for the frame buffer, <em>pFrameBuffer</em>. The macro LPD8806_FRAMEBUF_SIZE can be used to get the number of bytes that are needed for a frame buffer given the number of pixels to store. </p>

</div>
</div>
<a class="anchor" id="ga3ce3fc57c7d5c7c8ded09cc587ba714f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void LPD8806_LedStrip_Clear </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__lpd8806__ledstrip__driver.html#ga6918c0b45c319c8a5f3c45326877e6cf">LPD8806_LedStrip_Handle_t</a>&#160;</td>
          <td class="paramname"><em>h</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Clear the frame buffer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">h</td><td>is the LedStrip instance handle from _Init()</td></tr>
  </table>
  </dd>
</dl>
<p>This is a convenience function the clear the contents of the frame buffer back to "zero", meaning all pixels are off. This function does not update the hardware. </p>

</div>
</div>
<a class="anchor" id="gaaf62fec53810f6f85f8bc82bb1f46a35"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void LPD8806_LedStrip_EnableDma </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__lpd8806__ledstrip__driver.html#ga6918c0b45c319c8a5f3c45326877e6cf">LPD8806_LedStrip_Handle_t</a>&#160;</td>
          <td class="paramname"><em>h</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>dmaChannel</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Enable the use of DMA by the driver. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">h</td><td>is the LedStrip instance handle from _Init() </td></tr>
    <tr><td class="paramname">dmaChannel</td><td>is the DMA channel number that should be used for the SSI/SPI</td></tr>
  </table>
  </dd>
</dl>
<p>This function assigns the DMA channel to the LedStrip instance and enables use of DMA when writing pixel data using the SPI peripheral. The caller must provide a valid DMA channel and configuration - nothing is done to validate the DMA channel.</p>
<p>The application must first set up the DMA controller and configure the correct DMA channel for this peripheral before calling this function. </p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Sun Jul 27 2014 15:22:55 for Stellaris/Tiva Drivers by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.6 </li>
  </ul>
</div>
</body>
</html>
